(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[606],{5606:function(e,t,i){Promise.resolve().then(i.bind(i,7846))},121:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(8856).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},996:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(8856).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},7846:function(e,t,i){"use strict";i.d(t,{GiftShareContent:function(){return q}});var a=i(1018),s=i(5814),r=i(271),n=i(9773),l=i(863),c=i(5883),o=i(9787),d=i(5159),h=i(5434);class m extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u(e){let{children:t,isPresent:i}=e,r=(0,s.useId)(),n=(0,s.useRef)(null),l=(0,s.useRef)({width:0,height:0,top:0,left:0}),{nonce:c}=(0,s.useContext)(h._);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:s}=l.current;if(i||!n.current||!e||!t)return;n.current.dataset.motionPopId=r;let o=document.createElement("style");return c&&(o.nonce=c),document.head.appendChild(o),o.sheet&&o.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(a,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(o)}},[i]),(0,a.jsx)(m,{isPresent:i,childRef:n,sizeRef:l,children:s.cloneElement(t,{ref:n})})}let x=e=>{let{children:t,initial:i,isPresent:r,onExitComplete:n,custom:l,presenceAffectsLayout:c,mode:h}=e,m=(0,o.h)(p),x=(0,s.useId)(),f=(0,s.useCallback)(e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;n&&n()},[m,n]),g=(0,s.useMemo)(()=>({id:x,initial:i,isPresent:r,custom:l,onExitComplete:f,register:e=>(m.set(e,!1),()=>m.delete(e))}),c?[Math.random(),f]:[r,f]);return(0,s.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[r]),s.useEffect(()=>{r||m.size||!n||n()},[r]),"popLayout"===h&&(t=(0,a.jsx)(u,{isPresent:r,children:t})),(0,a.jsx)(d.O.Provider,{value:g,children:t})};function p(){return new Map}var f=i(8104);let g=e=>e.key||"";function y(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}var j=i(1891);let v=e=>{let{children:t,custom:i,initial:r=!0,onExitComplete:n,presenceAffectsLayout:l=!0,mode:d="sync",propagate:h=!1}=e,[m,u]=(0,f.oO)(h),p=(0,s.useMemo)(()=>y(t),[t]),v=h&&!m?[]:p.map(g),b=(0,s.useRef)(!0),w=(0,s.useRef)(p),N=(0,o.h)(()=>new Map),[C,k]=(0,s.useState)(p),[E,S]=(0,s.useState)(p);(0,j.L)(()=>{b.current=!1,w.current=p;for(let e=0;e<E.length;e++){let t=g(E[e]);v.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[E,v.length,v.join("-")]);let z=[];if(p!==C){let e=[...p];for(let t=0;t<E.length;t++){let i=E[t],a=g(i);v.includes(a)||(e.splice(t,0,i),z.push(i))}"wait"===d&&z.length&&(e=z),S(y(e)),k(p);return}let{forceRender:Z}=(0,s.useContext)(c.p);return(0,a.jsx)(a.Fragment,{children:E.map(e=>{let t=g(e),s=(!h||!!m)&&(p===E||v.includes(t));return(0,a.jsx)(x,{isPresent:s,initial:(!b.current||!!r)&&void 0,custom:s?void 0:i,presenceAffectsLayout:l,mode:d,onExitComplete:s?void 0:()=>{if(!N.has(t))return;N.set(t,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(null==Z||Z(),S(w.current),h&&(null==u||u()),n&&n())},children:e},t)})})};var b=i(996),w=i(534),N=i(8856);let C=(0,N.Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var k=i(121);let E=(0,N.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var S=i(2757);let z=(0,N.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Z=(0,N.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),R=(0,N.Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),M=[{id:"1",name:"田中 太郎",avatar:"T"},{id:"2",name:"佐藤 花子",avatar:"S"},{id:"3",name:"鈴木 一郎",avatar:"S"},{id:"4",name:"高橋 美咲",avatar:"T"},{id:"5",name:"渡辺 健太",avatar:"W"}];function T(e){let{isOpen:t,onClose:i,onSend:r}=e,[n,c]=(0,s.useState)([]),[o,d]=(0,s.useState)(!1),h=e=>{c(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,a.jsx)(v,{children:t&&(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 z-50 flex items-end",onClick:i,children:(0,a.jsxs)(l.E.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"w-full bg-white rounded-t-3xl",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsx)("button",{onClick:i,className:"p-1",children:(0,a.jsx)(z,{className:"w-6 h-6 text-gray-500"})}),(0,a.jsx)("span",{className:"font-bold text-gray-800",children:"送信先を選択"}),(0,a.jsx)("div",{className:"w-8"})]}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-gray-100 rounded-full px-4 py-2",children:[(0,a.jsx)(Z,{className:"w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"友だちを検索",className:"bg-transparent flex-1 outline-none text-sm"})]})}),(0,a.jsx)("div",{className:"max-h-64 overflow-y-auto px-4",children:M.map(e=>{let t=n.includes(e.id);return(0,a.jsxs)(l.E.button,{whileTap:{scale:.98},onClick:()=>h(e.id),className:"w-full flex items-center gap-3 py-3 border-b border-gray-100",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-[#06C755] rounded-full flex items-center justify-center text-white font-bold",children:e.avatar}),(0,a.jsx)("span",{className:"flex-1 text-left font-medium text-gray-800",children:e.name}),(0,a.jsx)("div",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ".concat(t?"bg-[#06C755] border-[#06C755]":"border-gray-300"),children:t&&(0,a.jsx)(k.Z,{className:"w-4 h-4 text-white"})})]},e.id)})}),(0,a.jsx)("div",{className:"p-4 border-t",children:(0,a.jsx)(S.z,{size:"lg",onClick:()=>{d(!0),setTimeout(()=>{r(M.filter(e=>n.includes(e.id))),d(!1),c([])},1e3)},disabled:0===n.length||o,children:o?(0,a.jsx)(l.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:(0,a.jsx)(R,{className:"w-5 h-5"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(R,{className:"w-5 h-5"}),"送信する (",n.length,")"]})})})]})})})}var L=i(5806);let P=[{id:"coffee",name:"プレミアムコーヒーギフト",price:2500,category:"ドリンク"},{id:"sweets",name:"スイーツアソート",price:3e3,category:"フード"},{id:"aroma",name:"リラックスアロマセット",price:4500,category:"雑貨"},{id:"tea",name:"オーガニック紅茶ギフト",price:2800,category:"ドリンク"}];function q(e){let{basePath:t}=e,i=(0,r.useRouter)(),c=(0,r.useSearchParams)().get("id")||"coffee",o=P.find(e=>e.id===c)||P[0],[d,h]=(0,s.useState)(""),[m,u]=(0,s.useState)(!0),[x,p]=(0,s.useState)(!1),[f,g]=(0,s.useState)(!1),[y,j]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=setTimeout(()=>{h("https://gift.example.com/g/abc123xyz"),u(!1)},1500);return()=>clearTimeout(e)},[]),(0,a.jsxs)("div",{className:"min-h-full bg-gray-50 flex flex-col relative",children:[(0,a.jsxs)("div",{className:"bg-white px-4 py-3 border-b flex items-center gap-3",children:[(0,a.jsx)(n.default,{href:"".concat(t,"/gift-detail?id=").concat(o.id),className:"p-1 hover:bg-gray-100 rounded-full",children:(0,a.jsx)(b.Z,{className:"w-6 h-6 text-gray-600"})}),(0,a.jsx)("h1",{className:"font-bold text-gray-800",children:"ギフトを送る"})]}),(0,a.jsxs)("div",{className:"flex-1 p-4 space-y-4",children:[(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-[#06C755] to-[#00B900] rounded-2xl p-4 text-white",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:(0,a.jsx)(w.Z,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold",children:"ギフトの準備ができました!"}),(0,a.jsx)("p",{className:"text-sm text-white/80",children:"友だちにURLを送りましょう"})]})]})}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(C,{className:"w-5 h-5 text-[#06C755]"}),(0,a.jsx)("span",{className:"font-bold text-gray-800",children:"ギフトURL"})]}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-xl p-3 flex items-center gap-2",children:m?(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(l.E.div,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},className:"h-4 bg-gray-200 rounded w-3/4"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("code",{className:"flex-1 text-sm text-gray-600 truncate",children:d}),(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(d),j(!0),setTimeout(()=>j(!1),2e3)},className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:y?(0,a.jsx)(k.Z,{className:"w-5 h-5 text-[#06C755]"}):(0,a.jsx)(E,{className:"w-5 h-5 text-gray-500"})})]})}),y&&(0,a.jsx)(l.E.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-[#06C755] mt-2 text-center",children:"コピーしました!"})]}),(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(L.q,{productId:o.id,productName:o.name,size:"card"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-gray-800",children:o.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:o.category}),(0,a.jsxs)("p",{className:"text-[#06C755] font-bold mt-1",children:["\xa5",o.price.toLocaleString()]})]})]})})]}),(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"p-4 bg-white border-t",children:(0,a.jsx)(v,{mode:"wait",children:f?(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center justify-center gap-2 py-4",children:[(0,a.jsx)(l.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.1},className:"w-12 h-12 bg-[#06C755] rounded-full flex items-center justify-center",children:(0,a.jsx)(k.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsx)("span",{className:"font-bold text-[#06C755]",children:"送信しました!"})]},"sent"):(0,a.jsx)(l.E.div,{exit:{opacity:0},children:(0,a.jsxs)(S.z,{size:"lg",onClick:()=>p(!0),disabled:m,children:[(0,a.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M19.365 9.863c.349 0 .63.285.63.631 0 3.188-1.684 5.94-4.182 7.313l-.232.127-.196.106-.234.121-.25.126-.254.122-.262.119-.268.114-.278.11-.282.105-.292.1-.298.094-.306.088-.31.082-.32.076-.324.069-.332.062-.336.055-.344.048-.348.04-.358.032-.36.024-.368.015-.37.005c-5.803 0-10.505-4.702-10.505-10.505 0-5.803 4.702-10.505 10.505-10.505 5.803 0 10.505 4.702 10.505 10.505 0 .346-.283.63-.63.63-.346 0-.63-.284-.63-.63 0-5.108-4.137-9.245-9.245-9.245-5.108 0-9.245 4.137-9.245 9.245 0 5.108 4.137 9.245 9.245 9.245.316 0 .627-.016.933-.048l.297-.034.29-.04.285-.048.278-.054.274-.062.266-.068.262-.076.254-.082.25-.09.244-.096.236-.104.232-.11.224-.118.218-.124.21-.132.204-.138.196-.146.19-.152.182-.16.176-.166.168-.174.16-.18.154-.188.146-.194.138-.202.132-.208.124-.216.116-.222.108-.23.1-.236.094-.244.086-.25.078-.258.072-.264.064-.272.056-.278.048-.286.04-.292.034-.3.026-.306.018-.314.01-.32.004-.328c0-.346.284-.63.63-.63z"})}),"LINEで送る"]})},"button")})}),(0,a.jsx)(T,{isOpen:x,onClose:()=>p(!1),onSend:()=>{p(!1),g(!0),setTimeout(()=>{i.push("".concat(t,"/gift-receive?id=").concat(o.id))},2e3)}})]})}},2757:function(e,t,i){"use strict";i.d(t,{z:function(){return l}});var a=i(1018),s=i(863),r=i(7700),n=i(4272);function l(e){let{variant:t="primary",size:i="md",className:l,children:c,disabled:o,type:d="button",onClick:h}=e;return(0,a.jsx)(s.E.button,{type:d,whileTap:{scale:o?1:.98},className:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,n.m6)((0,r.W)(t))}("rounded-xl font-medium transition-all duration-200 flex items-center justify-center gap-2","primary"===t&&"bg-[#06C755] text-white hover:bg-[#05a648] active:bg-[#049040]","secondary"===t&&"bg-[#333333] text-white hover:bg-[#444444] active:bg-[#222222]","outline"===t&&"bg-white text-[#06C755] border-2 border-[#06C755] hover:bg-[#f0fdf4] active:bg-[#dcfce7]","ghost"===t&&"bg-transparent text-[#666666] hover:bg-gray-100 active:bg-gray-200","sm"===i&&"px-4 py-2 text-sm","md"===i&&"px-6 py-3 text-base","lg"===i&&"px-8 py-4 text-lg w-full",o&&"opacity-50 cursor-not-allowed",l),disabled:o,onClick:h,children:c})}},5806:function(e,t,i){"use strict";i.d(t,{q:function(){return u}});var a=i(1018),s=i(1282),r=i(5814),n=i(2570),l=i(7259),c=i(4915),o=i(7025);let d={sm:{width:64,height:64,iconSize:24},md:{width:80,height:80,iconSize:32},lg:{width:800,height:600,iconSize:64},card:{width:64,height:64,iconSize:24}},h={coffee:n.Z,sweets:l.Z,aroma:c.Z,tea:o.Z},m={coffee:"from-amber-100 via-orange-50 to-amber-100",sweets:"from-pink-100 via-rose-50 to-pink-100",aroma:"from-purple-100 via-indigo-50 to-purple-100",tea:"from-green-100 via-emerald-50 to-green-100"};function u(e){let{productId:t,productName:i,size:l="md",priority:c=!1,className:o=""}=e,[u,x]=(0,r.useState)(!1),p=d[l],f=h[t]||n.Z,g=m[t]||m.coffee;return u?(0,a.jsx)("div",{className:"relative bg-gradient-to-br ".concat(g," rounded-lg flex items-center justify-center overflow-hidden ").concat(o),style:"lg"===l?{width:"100%",aspectRatio:"4/3"}:{width:p.width,height:p.height},children:(0,a.jsx)(f,{className:"text-gray-400",size:p.iconSize,strokeWidth:1.5})}):"lg"===l?(0,a.jsx)("div",{className:"relative w-full overflow-hidden rounded-lg ".concat(o),style:{aspectRatio:"4/3"},children:(0,a.jsx)(s.default,{src:"/".concat(t,".jpg"),alt:i,fill:!0,priority:c,onError:()=>x(!0),className:"object-cover",sizes:"100vw"})}):(0,a.jsx)("div",{className:"relative overflow-hidden rounded-lg flex-shrink-0 ".concat(o),style:{width:p.width,height:p.height,minWidth:p.width,minHeight:p.height,maxWidth:p.width,maxHeight:p.height},children:(0,a.jsx)(s.default,{src:"/".concat(t,".jpg"),alt:i,width:p.width,height:p.height,priority:c,onError:()=>x(!0),className:"object-cover w-full h-full",sizes:"md"===l?"80px":"64px"})})}}}]);