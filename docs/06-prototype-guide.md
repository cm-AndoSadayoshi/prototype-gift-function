# プロトタイプガイドライン

## プロダクト名: ソーシャルギフトアセット

---

## ブランド設定

### カラーパレット

| 用途 | カラー名 | カラーコード |
|------|----------|--------------|
| Primary | LINE Green | #06C755 |
| Secondary | Dark Green | #00B900 |
| Accent/Warning | Orange | #FF6B35 |
| Background | Light Gray | #F5F5F5 |
| Text Primary | Dark Gray | #1A1A1A |
| Text Secondary | Medium Gray | #666666 |

### 参考ブランド

- LINE（公式グリーンカラー）
- グロースパック for LINE シリーズ

---

## 画面構成

### 画面一覧

| 画面名 | パス | 説明 | 状態シミュレーション |
|--------|------|------|---------------------|
| ギフト選択 | /demo/gift-select | 贈り手がギフト商品を選択 | なし |
| ギフト詳細 | /demo/gift-detail | 商品詳細確認・購入 | なし |
| URL発行・シェア | /demo/gift-share | URL生成・LINEシェア | モックshareTargetPicker |
| ギフト受け取り | /demo/gift-receive | 受け取り手がギフトを受け取る | なし |
| チケット表示 | /demo/ticket | デジタルチケット・QRコード表示 | なし |
| 利用完了 | /demo/complete | 店舗での利用完了 | なし |

### 画面遷移図

```
【贈り手フロー】
[ギフト選択] → [ギフト詳細] → [URL発行・シェア]
                                    ↓
                            (LINEでURL送信)
                                    ↓
【受け取り手フロー】
[ギフト受け取り] → [チケット表示] → [利用完了]
```

### demoSteps設定

`demo-builder` で使用するステップ定義:

```typescript
const demoSteps = [
  { path: "/demo/gift-select", label: "ギフト選択", step: 1 },
  { path: "/demo/gift-detail", label: "ギフト詳細", step: 2 },
  { path: "/demo/gift-share", label: "LINEでシェア", step: 3 },
  { path: "/demo/gift-receive", label: "ギフト受け取り", step: 4 },
  { path: "/demo/ticket", label: "チケット表示", step: 5 },
  { path: "/demo/complete", label: "利用完了", step: 6 },
];

const demoInfo = {
  title: "ソーシャルギフトアセット",
  subtitle: "グロースパック for LINE デモ",
  primaryColor: "#06C755",
};
```

---

## MVP機能仕様

### 機能1: ギフト選択

**概要**: 贈り手がギフト商品を一覧から選択する

**ユーザーストーリー**: As a 贈り手, I want to ギフト商品を選びたい, So that 相手に贈るギフトを決められる

**UI要素**:
- 商品カードリスト（画像、商品名、価格）
- カテゴリフィルター（オプション）

**動作フロー**:
1. 商品一覧が表示される
2. 商品カードをタップ
3. ギフト詳細画面へ遷移

---

### 機能2: ギフト詳細・購入

**概要**: 商品詳細を確認し、ギフトとして購入する

**ユーザーストーリー**: As a 贈り手, I want to 商品詳細を確認したい, So that 間違いなく購入できる

**UI要素**:
- 商品画像（大）
- 商品名・説明文
- 価格表示
- 「ギフトを購入」ボタン

**動作フロー**:
1. 商品詳細が表示される
2. 「ギフトを購入」をタップ
3. URL発行画面へ遷移

---

### 機能3: URL発行・LINEシェア

**概要**: ギフトURLを発行し、LINEで友だちにシェアする

**ユーザーストーリー**: As a 贈り手, I want to LINEでギフトを送りたい, So that 相手に直接届けられる

**UI要素**:
- 発行されたギフトURL表示
- 「LINEで送る」ボタン
- シェア先選択モック（shareTargetPicker風）
- 送信完了メッセージ

**動作フロー**:
1. ギフトURLが自動生成される
2. 「LINEで送る」をタップ
3. **モックのshareTargetPicker画面**が表示される
4. 友だちを選択（モック）
5. 送信完了のフィードバック表示

**状態シミュレーション**:
- タイプ: モックUI
- トリガー: ボタン押下
- 効果: shareTargetPickerのモック画面をオーバーレイ表示

---

### 機能4: ギフト受け取り

**概要**: 受け取り手がURLを開いてギフトを受け取る

**ユーザーストーリー**: As a 受け取り手, I want to ギフトを受け取りたい, So that チケットを使えるようにしたい

**UI要素**:
- ギフト画像・商品名
- 贈り主からのメッセージ（オプション）
- 「ギフトを受け取る」ボタン

**動作フロー**:
1. ギフト内容が表示される
2. 「ギフトを受け取る」をタップ
3. チケット表示画面へ遷移

---

### 機能5: デジタルチケット表示

**概要**: 店舗で利用するためのデジタルチケットを表示

**ユーザーストーリー**: As a 受け取り手, I want to チケットを表示したい, So that 店舗で使える

**UI要素**:
- チケットデザイン（商品画像、商品名）
- QRコード
- 有効期限
- 「店舗で使う」ボタン

**動作フロー**:
1. デジタルチケットが表示される
2. QRコードを店員に提示
3. 「店舗で使う」をタップ
4. 利用完了画面へ遷移

---

### 機能6: 利用完了

**概要**: 店舗での利用完了を表示

**ユーザーストーリー**: As a 受け取り手, I want to 利用完了を確認したい, So that 使い終わったことが分かる

**UI要素**:
- 完了チェックマークアイコン
- 「ご利用ありがとうございました」メッセージ
- 利用日時
- 「ホームに戻る」ボタン

**動作フロー**:
1. 完了画面が表示される
2. 利用済みステータスに更新

---

## デモ環境設定

### 表示設定

- **ビューポート**: スマホサイズ（375px × 812px）
- **フレーム**: iPhoneモックアップ（ノッチ、ステータスバー、ホームインジケーター付き）
- **サイドバー**: ステップナビゲーション + 進捗表示

### デモシナリオ

| ステップ | 画面 | 操作 | 期待結果 |
|---------|------|------|---------|
| 1 | ギフト選択 | 商品カードをタップ | ギフト詳細画面へ遷移 |
| 2 | ギフト詳細 | 「ギフトを購入」をタップ | URL発行画面へ遷移 |
| 3 | URL発行・シェア | 「LINEで送る」をタップ | shareTargetPickerモック表示→送信完了 |
| 4 | ギフト受け取り | 「ギフトを受け取る」をタップ | チケット表示画面へ遷移 |
| 5 | チケット表示 | 「店舗で使う」をタップ | 利用完了画面へ遷移 |
| 6 | 利用完了 | - | 完了メッセージ表示 |

### アニメーション要件

| 画面 | アニメーションタイプ | 対象要素 | 説明 |
|------|---------------------|---------|------|
| ギフト選択 | エントリー | 商品カード | スタッガードでフェードイン |
| URL発行 | 生成 | URL表示 | タイピングアニメーション |
| シェア | オーバーレイ | shareTargetPicker | 下からスライドアップ |
| ギフト受け取り | 強調 | ギフト画像 | スケールイン |
| チケット表示 | エントリー | QRコード | フェードイン + スケール |
| 利用完了 | 成功 | チェックマーク | スケールイン + リップル |

---

## 魅力的品質機能（Delighter）

**機能名**: LINEシェア（shareTargetPickerモック）

**説明**: 実際のLIFF shareTargetPickerを模したモックUIで、LINEネイティブのシェア体験を再現

**実装ノート**:
- `liff.shareTargetPicker()` は実際には呼び出さない
- モックUIでLINE友だち選択画面を再現
- 選択後のローディング→完了フィードバックをシミュレーション

**ビジュアル処理**:
- グラデーション: from-[#06C755] to-[#00B900]
- アイコン: lucide-react の `Send`, `Check`, `Users`
- アニメーション: オーバーレイ（下からスライドアップ）、ボタンタップ（scale: 0.98）

### shareTargetPickerモックの構成

```
┌─────────────────────────────┐
│  × 閉じる     送信先を選択   │
├─────────────────────────────┤
│  🔍 友だちを検索            │
├─────────────────────────────┤
│  👤 田中 太郎    ☑          │
│  👤 佐藤 花子    ☐          │
│  👤 鈴木 一郎    ☐          │
│  ...                        │
├─────────────────────────────┤
│      [ 送信する (1) ]       │
└─────────────────────────────┘
```
